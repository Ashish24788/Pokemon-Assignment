<div class="container my-3">
  <form [formGroup]="addProductForm" (ngSubmit)="onFormSubmit()">
    <div formArrayName="form" class="product-forms">
      <div *ngFor="let product of contactFormGroup.controls; let i = index" class="form-group product-form">
        <div [formGroupName]="i" class="row">
          <div class="form-group row col-12">
            <div class="form-group col-md-4">
              <label>Name:</label>
              <input class="form-control" formControlName="name" type="text" />
              <span class="text-danger" *ngIf="
                  (product?.controls)['name']?.touched &&
                  product?.controls['name']?.hasError('required')
                ">
                {{ERROR_MESSAGES.REQUIRED_ERROR_FOR_NAME}}
              </span>
              <span class="text-danger" *ngIf="
                  (product?.controls)['name']?.touched &&
                  product?.controls['name']?.hasError('minlength')
                ">
                {{ERROR_MESSAGES.MIN_LENGTH_ERROR_FOR_NAME}}
              </span>
              <span class="text-danger" *ngIf="
                  (product?.controls)['name']?.touched &&
                  product?.controls['name']?.hasError('pattern')
                ">
                {{ERROR_MESSAGES.PATTERN_ERROR_FOR_NAME}}
              </span>
            </div>
            <div class="form-group col-md-4">
              <label>Description:</label>
              <input class="form-control" formControlName="description" type="text" />
              <span class="text-danger" *ngIf="
                  (product?.controls)['description']?.touched &&
                  product?.controls['description']?.hasError('required')
                ">
                {{ERROR_MESSAGES.REQUIRED_ERROR_FOR_DESCRIPTION}}
              </span>
              <span class="text-danger" *ngIf="
                  (product?.controls)['description']?.touched &&
                  product?.controls['description']?.hasError('minlength')
                ">
                {{ERROR_MESSAGES.MIN_LENGTH_ERROR_FOR_DESCRIPTION}}
              </span>
              <span class="text-danger" *ngIf="
                  (product?.controls)['description']?.touched &&
                  product?.controls['description']?.hasError('pattern')
                ">
                {{ERROR_MESSAGES.PATTERN_ERROR_FOR_DESCRIPTION}}
              </span>
            </div>
            <div class="form-group col-md-4">
              <label>Price:</label>
              <input class="form-control" formControlName="price" type="text" />
              <span class="text-danger" *ngIf="
                  (product?.controls)['price']?.touched &&
                  product?.controls['price']?.hasError('required')
                ">
                {{ERROR_MESSAGES.REQUIRED_ERROR_FOR_PRICE}}
              </span>
              <span class="text-danger" *ngIf="
                  (product?.controls)['price']?.touched &&
                  product?.controls['price']?.hasError('pattern')
                ">
                {{ERROR_MESSAGES.PATTERN_ERROR_FOR_PRICE}}
              </span>
            </div>
          </div>
          <div class="form-group row col-12">
            <div class="form-group col-md-4">
              <label>Category:</label>
              <select class="form-control" formControlName="category">
                <option value="electronics">Electronics</option>
                <option value="cloths">Cloths</option>
                <option value="blankets">Blankets </option>
              </select>
              <span class="text-danger" *ngIf="
                  (product?.controls)['category']?.touched &&
                  product?.controls['category']?.hasError('required')
                ">
                {{ERROR_MESSAGES.REQUIRED_CATEGORY}}
              </span>
            </div>
            <div class="form-group col-md-4">
              <label>Image URL:</label>
              <input class="form-control" formControlName="imageURL" type="text" />
              <span class="text-danger" *ngIf="
                  (product?.controls)['imageURL']?.touched &&
                  product?.controls['imageURL']?.hasError('required')
                ">
                {{ERROR_MESSAGES.IMAGE_URL_REQUIRED}}
              </span>
              <span class="text-danger" *ngIf="
                  (product?.controls)['imageURL']?.touched &&
                  product?.controls['imageURL']?.hasError('pattern')
                ">
                {{ERROR_MESSAGES.VALID_IMAGE_URL}}
              </span>
            </div>
            <div class="form-group col-md-2">
              <label>Phone:</label>
              <input class="form-control" formControlName="phone" type="text" />
              <span class="text-danger" *ngIf="
                  (product?.controls)['phone']?.touched &&
                  product?.controls['phone']?.hasError('required')
                ">
                {{ERROR_MESSAGES.REQUIRED_ERROR_FOR_PHONE}}
              </span>
              <span class="text-danger" *ngIf="
                  (product?.controls)['phone']?.touched &&
                  product?.controls['phone']?.hasError('maxlength')
                ">
                {{ERROR_MESSAGES.MAX_LENGTH_ERROR_FOR_PHONE}}
              </span>
              <span class="text-danger" *ngIf="
                  (product?.controls)['phone']?.touched &&
                  product?.controls['phone']?.hasError('pattern')
                ">
                {{ERROR_MESSAGES.PATTERN_ERROR_FOR_PHONE}}
              </span>
            </div>
            <div class="form-group col-md-2">
              <label>Select:</label>
              <select class="form-control" formControlName="select">
                <option value="mobile">Mobile</option>
                <option value="landline">Landline</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="text-right col-12">
      <button class="btn btn-primary m-1" type="button" (click)="addProduct()">
        Add New Product
      </button>
    </div>
    <div class="text-right col-12 mt-5">
      <button class="btn btn-secondary mr-3" type="button" (click)="resetForm()">
        Reset
      </button>
      <button type="submit" [disabled]="!addProductForm.valid" class="btn btn-primary">
        Send
      </button>
    </div>
  </form>
</div>
